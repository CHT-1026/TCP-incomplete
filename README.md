# 项目名称

简要描述项目，包括其功能和目的。

## 目录

- [简介](#简介)
- [使用](#使用)
- [难点](#难点)
- [贡献](#贡献)
- [联系](#联系)

## 简介

如项目名称所述，这个项目并未完成。本项目的目的是利用TCP通信协议，创建一个能够实现两个客户端通过服务器进行传递消息与图片的windows桌面应用。
但是由于一些未知的原因，从服务器向客户端传递图片数据的时候会出现不可解决的错误，导致客户端只能够接收到一部分的数据，并且无法正确复原图片，我认为当前的问题对于作为初探windows应用编程的我来说比较难以解决，但是我也总结了一些处理这一问题的方法用来之后规避，这一部分将在之后说明。
同时，若是有义士对这一方面感兴趣，并且愿意针对当前项目出现的问题予以指导，我表示诚挚的感谢并耐心听取。

## 使用

### 前提条件

使用的系统为windows系统

### 使用方法

找到解压后文件的exe可执行文件，先运行服务器再打开客户端。本项目缺少一定的鲁棒性，所以尽量保证同时运行的客户端保持两个。

## 难点

这个部分相当于我完成本项目的自我总结，我将会在这个部分总结在这个项目中遇到的难点以及我解决这些问题的方法，同时罗列出这个项目尚未解决的一些问题，希望有闲暇的前辈可以不吝赐教。

### 遇到的难点

1、由于我作为初次尝试者，使用socket接口的网络配置我完全按照教程走下来，这部分的问题在使用命令行窗口测试的时候并未出现问题，服务器端正确接收了消息，客户端也能够轻松的接收服务器传来的信息，唯一的问题在于创建线程的时候出现发送消息的时候连接断开，经过检查发现是循环的过程中反复创建了新的socket接口，通过将客户端socket配置为静态变量得以解决。

2、接下来是最主要的问题，就是程序的主要逻辑问题。这个我在初始的时候没有对数据的格式和处理方式做好规划，导致后来出现了很多的不可解决的问题。首先是数据的规划问题，由于要传输图片文件，数据不可能一下子全部传输完成，所以需要用一个结构体变量来规范一个数据包的组成，应该包括：当前传输数据的格式，数据的长度，数据包的内容以及是否传输完成的flag。我并未规范格式，后来发现的时候只能采用规范发送和接受方法来达成区分不同，我认为这是一种繁琐而且不好统一整合的方式，导致后来出现问题的时候我始终怀疑发送的函数是否仍存在问题。

3、区分不同类型的数据。由于要处理的数据有文本与图片，如何在接收数据的时候进行有效的区分是一个关键的问题。我选择的方法是在发送数据包前先发送一个数据类型标签，使用‘T’与‘I’来区分文本与图片。但至今仍没有解决的问题是，发送图片时候计算出的数据长度与实际的不相符，导致我想使用长度来判断数据是否发送完成的时候总不成功。

4、图片发送失败的问题。由于客户端与服务端使用的都是c与c++，当服务端正确接收到客户端发送来的图片信息的时候，我认为只需要把相同的代码拷贝就可以成功实现客户端的传递。但是令我困惑的是，这个设想始终没有成功，我不断的调试，发现传送的时候总是丢失一部分数据，或者凭空产生一部分数据，我没办法在短时间内解决，所以只能将一个半成品上传，并希望之后如果再接触这类型问题的时候能够将它解决。

5、Windows窗口配置问题。这个问题比较复杂，在调试的时候出现过不计其数的问题，我也没办法一一记清了，但是不管是这windows还是java，前端还真是一项细活，前后端的配合也是比较困难的部分，很值得多去锻炼和熟悉

### 当前项目存在的不完善的问题
1、界面。界面比较粗糙，而且在bug处理方面仍有问题，一些操作可能会导致程序崩溃。

2、客户端的注册。时间问题没有增加用户注册的界面，发送消息也只是用简单的空格来区分是收到的还是发送的消息。

3、发送图片。仅支持png格式的图片，而且只能从客户端发送到服务端，这是程序最大的不完善的地方。

4、代码格式混乱。这是没有提前规划留下的问题，这个问题将会在以后的项目中多加注意。


## 贡献
本项目由本人独立完成，一切的代码开源，但是希望大家只是当作参考，因为能力有限，本项目只是对网络方向的试探，并不能称为完整的项目

## 联系
qq：1357291374
电话：13171471026
联系请注明来意，便于通过。
欢迎大佬斧正，以及欢迎有同样兴趣的同学交流经验。
